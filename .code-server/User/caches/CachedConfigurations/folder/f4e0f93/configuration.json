{"content":{"settings":"{}","tasks":"{}","launch":"{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n\n    \n    {\n      \"name\": \"Save Features Qwen\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/save_features.py\",\n      \"args\": [\n        \"--model_name\", \"Qwen/Qwen2-VL-7B-Instruct\",\n        \"--dataset_name\", \"coco\",\n        \"--dataset_size\", \"100\",\n        \"--data_dir\", \"/ds/images/xai_vision\",\n        \"--annotation_file\", \"/ds/images/xai_vision/patches_json_file.json\",\n        \"--split\", \"train_patch\",\n        \"--hook_name\", \"save_hidden_states_for_token_of_interest\",\n        \"--modules_to_hook\", \"model.norm,model.layers.27\",\n        \"--select_token_of_interest_samples\",\n        \"--token_of_interest\", \"clothes\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms\",\n        \"--save_filename\", \"qwen2_chair_patch_generation_split_train\",\n        \"--generation_mode\",\n        \"--slice_prediction\",\n        \"--exact_match_modules_to_hook\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    }, \n    {\n      \"name\": \"Save Features Qwen Global image\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/save_features.py\",\n      \"args\": [\n        \"--model_name\", \"Qwen/Qwen2-VL-7B-Instruct\",\n        \"--dataset_name\", \"coco\",\n        \"--dataset_size\", \"100\",\n        \"--data_dir\", \"/ds/images/xai_vision\",\n        \"--annotation_file\", \"/ds/images/xai_vision/patches_json_file.json\",\n        \"--split\", \"train\",\n        \"--hook_name\", \"save_hidden_states_for_token_of_interest\",\n        \"--modules_to_hook\", \"model.norm,model.layers.27\",\n        \"--select_token_of_interest_samples\",\n        \"--token_of_interest\", \"tables\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms\",\n        \"--save_filename\", \"qwen2_chair_patch_generation_split_train\",\n        \"--generation_mode\",\n        \"--slice_prediction\",\n        \"--exact_match_modules_to_hook\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    },\n\n    {\n      \"name\": \"Save Features Train ChexAgent\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/save_features.py\",\n      \"args\": [\n        \"--model_name\", \"StanfordAIMI/CheXagent-8b\",\n        \"--dataset_name\", \"xray_view\",\n        \"--dataset_size\", \"1\",\n        \"--data_dir\", \"/home/kadir/xl-vlms/playground/images\",\n        \"--annotation_file\", \"/home/kadir/xl-vlms/data/example_data.json\",\n        \"--split\", \"train\",\n        \"--hook_name\", \"save_hidden_states_for_token_of_interest\",\n        \"--modules_to_hook\", \"language_model.model.norm,language_model.model.layers.31\", //language_model.model.norm, \n        \"--select_token_of_interest_samples\",\n        \"--token_of_interest\", \"A\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms\",\n        \"--save_filename\", \"chexagent_A_generation_split_train_global_concept\",\n        \"--generation_mode\",\n        \"--exact_match_modules_to_hook\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    }, \n\n    {\n      \"name\": \"Save Features Test ChexAgent\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/save_features.py\",\n      \"args\": [\n        \"--model_name\", \"StanfordAIMI/CheXagent-8b\",\n        \"--dataset_name\", \"xray_view\",\n        \"--dataset_size\", \"10363\",\n        \"--data_dir\", \"/home/kadir/xl-vlms/playground\",\n        \"--annotation_file\", \"/home/kadir/xl-vlms/playground/output_patches/updated_data.json\",\n        \"--split\", \"val\",\n        \"--hook_name\", \"save_hidden_states_for_token_of_interest\",\n        \"--modules_to_hook\", \"language_model.model.norm,language_model.model.layers.31\",\n        \"--select_token_of_interest_samples\",\n        \"--token_of_interest\", \"A\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms\",\n        \"--save_filename\", \"chexagent_A_generation_split_test\",\n        \"--generation_mode\",\n        \"--exact_match_modules_to_hook\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    }, \n\n    {\n      \"name\": \"Decompose Features Script CheXagent\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/analyse_features.py\",  // Replace with your script's name\n      \"args\": [\n        \"--model_name\", \"StanfordAIMI/CheXagent-8b\",\n        \"--analysis_name\", \"decompose_activations_text_grounding_image_grounding\",\n        \"--features_path\", \"/netscratch/kadir/xl-vlms/features/save_hidden_states_for_token_of_interest_chexagent_A_generation_split_train_coars_concept.pth\",\n        \"--module_to_decompose\", \"language_model.model.norm\",\n        \"--num_concepts\", \"40\",\n        \"--decomposition_method\", \"pca\",\n        \"--save_filename\", \"chexagent_results_coars_nmf_A\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms/results\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    },\n\n    {\n      \"name\": \"Decompose Features Script Qwen\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/analyse_features.py\",  // Replace with your script's name\n      \"args\": [\n        \"--model_name\", \"Qwen/Qwen2-VL-7B-Instruct\",\n        \"--analysis_name\", \"decompose_activations_text_grounding_image_grounding\",\n        \"--features_path\", \"/netscratch/kadir/xl-vlms/features/save_hidden_states_for_token_of_interest_qwen2_chair_patch_generation_split_train.pth\",\n        \"--module_to_decompose\", \"model.norm\",\n        \"--num_concepts\", \"15\",\n        \"--decomposition_method\", \"pca\",\n        \"--save_filename\", \"qwen2_results_patch_pca\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms/results\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    },\n\n\n    {\n      \"name\": \"Features Decomposition Script\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/analyse_features.py\",  // Replace with your script's name\n      \"args\": [\n        \"--model_name\", \"Qwen/Qwen2-VL-7B-Instruct\",\n        \"--analysis_name\", \"decompose_activations_text_grounding_image_grounding\",\n        \"--features_path\", \"/netscratch/kadir/xl-vlms/features/save_hidden_states_for_token_of_interest_chexagent_the_generation_split_train.pth\",\n        \"--module_to_decompose\", \"model.norm\",\n        \"--num_concepts\", \"20\",\n        \"--decomposition_method\", \"snmf\",\n        \"--save_filename\", \"results_train\",\n        \"--save_dir\", \"/netscratch/kadir/xl-vlms/results\"\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    },\n    {\n      \"name\": \"Run: Analyse Features with Concept Dictionary Evaluation\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/analyse_features.py\",\n      \"args\": [\n        \"--analysis_name\", \"concept_dictionary_evaluation_overlap_clipscore_bertscore\",\n        \"--features_path\", \"/netscratch/kadir/xl-vlms/features/save_hidden_states_for_token_of_interest_qwen2_dog_generation_split_test.pth\",\n        \"--module_to_decompose\", \"model.norm\",\n        \"--model_name\", \"Qwen/Qwen2-VL-2B-Instruct\",\n        \"--save_filename\", \"qwen_dog\",\n        \"--local_files_only\",\n        \"--analysis_saving_path\", \"/netscratch/kadir/xl-vlms/results/decompose_activations_text_grounding_image_grounding_results_train.pth\",\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    },\n    {\n      \"name\": \"Concept Dictionary Evaluation CheXagent\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/analyse_features.py\",\n      \"args\": [\n        \"--analysis_name\", \"concept_dictionary_evaluation_overlap_clipscore_bertscore\",\n        \"--features_path\", \"/netscratch/kadir/xl-vlms/features/save_hidden_states_for_token_of_interest_chexagent_A_generation_split_train_global_concept.pth\",\n        \"--module_to_decompose\", \"language_model.model.norm\",\n        \"--model_name\", \"StanfordAIMI/CheXagent-8b\",\n        \"--save_filename\", \"chexagent_A\",\n        \"--local_files_only\",\n        \"--analysis_saving_path\", \"/netscratch/kadir/xl-vlms/results/decompose_activations_text_grounding_image_grounding_chexagent_results_coars_nmf_A.pth\",\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    },\n    {\n      \"name\": \"Concept Dictionary Evaluation Qwen\",\n      \"type\": \"python\",\n      \"request\": \"launch\",\n      \"program\": \"${workspaceFolder}/src/analyse_features.py\",\n      \"args\": [\n        \"--analysis_name\", \"concept_dictionary_evaluation_overlap_clipscore_bertscore\",\n        \"--features_path\", \"/netscratch/kadir/xl-vlms/features/save_hidden_states_for_token_of_interest_qwen2_chair_image_generation_split_train.pth\",\n        \"--module_to_decompose\", \"model.norm\",\n        \"--model_name\", \"Qwen/Qwen2-VL-7B-Instruct\",\n        \"--save_filename\", \"Qwen2_chair\",\n        \"--local_files_only\",\n        \"--analysis_saving_path\", \"/netscratch/kadir/xl-vlms/results/decompose_activations_text_grounding_image_grounding_qwen2_results_patch_pca.pth\",\n      ],\n      \"env\": {\n        \"HF_HOME\": \"/netscratch/kadir/xl-vlms/cache\"\n      },\n      \"python\": \"/root/anaconda3/envs/xl_vlm/bin/python\",  // Update this path\n      \"console\": \"integratedTerminal\",\n      \"justMyCode\": true\n    }\n\n\n\n\n  ]\n}\n"}}